---
id: migrating-from-v1
title: Migrating from v1
sidebar_label: Migrating from v1
---

## Yarnrc file detection

> The Yarnrc files mechanisms have been changed. In particular:
>
>   - Yarn doesn't use the configuration from your `.npmrc` files anymore
>   - Yarn doesn't look anywhere else than in the folder hierarchy for rc files (not `$HOME`, for example)

Our recommendation is to keep exactly one `.yarnrc` per project (at the root of the repository).

## Yarnrc settings

> The settings available in the yarnrc file have changed. Using old settings will cause Yarn to throw an exception at boot time unless properly guarded.

We recommend you to make sure you only use settings mapping to the ones available in `yarn config -v`. In case one particular feature is missing, feel free to open an issue on our repository to discuss it.

In case you absolutely need to keep in your file hierarchy some settings that belong to both the v1 and the v2, you can use the special field called `berry`. For example, the following file will work as expected on both v1 and v2+ branches:

```
# THIS IS AN AUTOGENERATED FILE. DO NOT EDIT THIS FILE DIRECTLY.
# yarn lockfile v1

lastUpdateCheck 1550102155832

berry:
```

Yarn v2 will not throw an exception if it detects a `berry` object in your configuration (even empty!), and will instead use it as source of truth. Yarn v1 will simply ignore the `berry` field. Leaving the field empty will simply cause Yarn v2+ to ignore the file altogether when resolving the configuration.
